(this.webpackJsonpbooks2read=this.webpackJsonpbooks2read||[]).push([[0],{26:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(20),s=n.n(c),r=(n(26),n(11)),i=n(7),l=n(8),h=n(10),d=n(9),b=n(1),j=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleChange=function(t){var n=t.target.value;e.props.updateShelf(e.props.book,n)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.book,t=e.imageLinks.thumbnail;return Object(b.jsxs)("div",{className:"book",children:[Object(b.jsxs)("div",{className:"book-top",children:[Object(b.jsx)("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(t,")")}}),Object(b.jsx)("div",{className:"book-shelf-changer",children:Object(b.jsxs)("select",{value:e.shelf,onChange:this.handleChange,children:[Object(b.jsx)("option",{value:"move",disabled:!0,children:"Move to..."}),Object(b.jsx)("option",{value:"currentlyReading",children:"Currently Reading"}),Object(b.jsx)("option",{value:"wantToRead",children:"Want to Read"}),Object(b.jsx)("option",{value:"read",children:"Read"}),Object(b.jsx)("option",{value:"none",children:"None"})]})})]}),Object(b.jsx)("div",{className:"book-title",children:e.title}),Object(b.jsx)("div",{className:"book-authors",children:e.authors.join(", ")})]})}}]),n}(o.Component),u=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onUpdateShelf=function(t,n){e.props.updateShelf(t,n)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.shelf,o=(0,t.filterBooks)(n.id);return Object(b.jsxs)("div",{className:"bookshelf",children:[Object(b.jsx)("h2",{className:"bookshelf-title",children:n.title}),Object(b.jsx)("div",{className:"bookshelf-books",children:Object(b.jsx)("ol",{className:"books-grid",children:o.map((function(t){return Object(b.jsx)("li",{children:Object(b.jsx)(j,{book:t,updateShelf:e.onUpdateShelf})},t.id)}))})})]})}}]),n}(o.Component),p="https://reactnd-books-api.udacity.com",f=localStorage.token;f||(f=localStorage.token=Math.random().toString(36).substr(-8));var O={Accept:"application/json",Authorization:f},k=function(e,t){return fetch("".concat(p,"/books/").concat(e.id),{method:"PUT",headers:Object(r.a)(Object(r.a)({},O),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},v=n(13),x=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"search-books",children:[Object(b.jsxs)("div",{className:"search-books-bar",children:[Object(b.jsx)(v.b,{to:"/",children:Object(b.jsx)("button",{className:"close-search",children:"Close"})}),Object(b.jsx)("div",{className:"search-books-input-wrapper",children:Object(b.jsx)("input",{type:"text",placeholder:"Search by title or author"})})]}),Object(b.jsx)("div",{className:"search-books-results",children:Object(b.jsx)("ol",{className:"books-grid"})})]})}}]),n}(o.Component),m=n(2),y=(n(33),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={books:[]},e.filterByBookshelf=function(t){return e.state.books.filter((function(e){return e.shelf===t}))},e.updateShelf=function(t,n){e.setState((function(e){return{books:e.books.map((function(e){return e.id===t.id?Object(r.a)(Object(r.a)({},e),{},{shelf:n}):e}))}})),k(t,n)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(p,"/books"),{headers:O}).then((function(e){return e.json()})).then((function(e){return e.books})).then((function(t){e.setState({books:t})}))}},{key:"render",value:function(){var e=this,t=[{title:"Currently Reading",id:"currentlyReading"},{title:"Want to Read",id:"wantToRead"},{title:"Read",id:"read"}];return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(m.a,{exact:!0,path:"/",render:function(){return Object(b.jsxs)("div",{className:"list-books",children:[Object(b.jsx)("div",{className:"list-books-title",children:Object(b.jsx)("h1",{children:"MyReads"})}),Object(b.jsx)("div",{className:"list-books-content",children:Object(b.jsx)("div",{children:t.map((function(t){return Object(b.jsx)(u,{shelf:t,filterBooks:e.filterByBookshelf,updateShelf:e.updateShelf},t.id)}))})}),Object(b.jsx)(v.b,{to:"/search",className:"open-search",children:Object(b.jsx)("button",{children:"Add a book"})})]})}}),Object(b.jsx)(m.a,{path:"/search",component:x})]})}}]),n}(a.a.Component));s.a.render(Object(b.jsx)(v.a,{children:Object(b.jsx)(y,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.7ec2390e.chunk.js.map